<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>éŸ³ä¹ API èšåˆæœåŠ¡</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="icon" href="favicon.ico" type="image/x-icon">
</head>
<body>
  <div class="container">
    <header>
      <div class="header-top">
        <div class="auth-buttons">
          <a href="/login.html" class="btn btn-outline">ç™»å½•</a>
          <a href="/register.html" class="btn btn-primary">æ³¨å†Œ</a>
        </div>
      </div>
      <h1>éŸ³ä¹ API èšåˆæœåŠ¡</h1>
      <p class="subtitle">å¤šå¹³å°éŸ³ä¹èµ„æºèšåˆ</p>
    </header>

    <section class="features">
      <h2>åŠŸèƒ½ç‰¹ç‚¹</h2>
      <div class="feature-grid">
        <div class="feature-card">
          <div class="feature-icon">ğŸµ</div>
          <h3>å¤šå¹³å°æ”¯æŒ</h3>
          <p>æ”¯æŒç½‘æ˜“äº‘éŸ³ä¹ã€QQéŸ³ä¹ã€é…·æˆ‘éŸ³ä¹å’Œé…·ç‹—éŸ³ä¹ç­‰å¤šä¸ªå¹³å°</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">ğŸ”Š</div>
          <h3>å¤šéŸ³è´¨é€‰æ‹©</h3>
          <p>æä¾›ä»æ ‡å‡†éŸ³è´¨åˆ°æ— æŸéŸ³è´¨çš„å¤šç§é€‰æ‹©</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">âš¡</div>
          <h3>å¿«é€Ÿå“åº”</h3>
          <p>åŸºäº Vercel éƒ¨ç½²ï¼Œå…¨çƒèŠ‚ç‚¹ï¼Œä½å»¶è¿Ÿå“åº”</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">ğŸ”Œ</div>
          <h3>ç®€å•é›†æˆ</h3>
          <p>æä¾›ç®€æ´çš„ API æ¥å£ï¼Œæ˜“äºä¸å„ç§åº”ç”¨é›†æˆ</p>
        </div>
      </div>
    </section>

    <section class="search-container">
      <h2>æœç´¢éŸ³ä¹</h2>
      <form id="searchForm">
        <div class="form-group">
          <label for="platform">å¹³å°</label>
          <select id="platform" name="platform" required>
            <option value="netease">ç½‘æ˜“äº‘éŸ³ä¹</option>
            <option value="qq">QQéŸ³ä¹</option>
            <option value="kuwo">é…·æˆ‘éŸ³ä¹</option>
            <option value="kugou">é…·ç‹—éŸ³ä¹</option>
          </select>
        </div>
        <div class="form-group">
          <label for="songName">æ­Œæ›²åç§°</label>
          <input type="text" id="songName" name="songName" required placeholder="è¾“å…¥æ­Œæ›²åç§°">
        </div>
        <div class="form-group">
          <label for="quality">éŸ³è´¨</label>
          <select id="quality" name="quality" required>
            <option value="128k">æ ‡å‡†éŸ³è´¨ (128k)</option>
            <option value="320k">é«˜å“è´¨ (320k)</option>
            <option value="flac">æ— æŸéŸ³è´¨ (FLAC)</option>
          </select>
        </div>
        <button type="submit" class="btn btn-primary">æœç´¢</button>
      </form>
    </section>

    <section class="api-test">
      <h2>API æµ‹è¯•</h2>
      <div class="api-notice">
        <p>æ³¨æ„: æ­¤APIéœ€è¦APIå¯†é’¥æ‰èƒ½ä½¿ç”¨ã€‚è¯·<a href="/register.html">æ³¨å†Œè´¦å·</a>è·å–æ‚¨çš„APIå¯†é’¥ã€‚</p>
      </div>
      <div class="test-container">
        <div class="form-group">
          <label for="platform">å¹³å°</label>
          <select id="platform">
            <option value="netease">ç½‘æ˜“äº‘éŸ³ä¹</option>
            <option value="qq">QQéŸ³ä¹</option>
            <option value="kuwo">é…·æˆ‘éŸ³ä¹</option>
            <option value="kugou">é…·ç‹—éŸ³ä¹</option>
          </select>
        </div>
        <div class="form-group">
          <label for="musicId">éŸ³ä¹ID</label>
          <input type="text" id="musicId" placeholder="è¾“å…¥éŸ³ä¹ID">
        </div>
        <div class="form-group">
          <label for="quality">éŸ³è´¨</label>
          <select id="quality">
            <option value="128k">æ ‡å‡† (128k)</option>
            <option value="320k" selected>é«˜å“è´¨ (320k)</option>
            <option value="flac">æ— æŸ (FLAC)</option>
          </select>
        </div>
        <div class="form-group">
          <label for="apiKey">APIå¯†é’¥</label>
          <input type="text" id="apiKey" placeholder="è¾“å…¥æ‚¨çš„APIå¯†é’¥">
        </div>
        <button id="testButton" class="btn">è·å–éŸ³ä¹é“¾æ¥</button>
        <div class="result-container">
          <h3>ç»“æœ</h3>
          <pre id="result">// ç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ</pre>
          <div id="player-container" style="display: none;">
            <h3>éŸ³ä¹æ’­æ”¾å™¨</h3>
            <audio id="audio-player" controls></audio>
          </div>
        </div>
      </div>
    </section>

    <section class="api-docs">
      <h2>API æ–‡æ¡£</h2>
      <div class="api-endpoints">
        <div class="endpoint">
          <h3>è·å–æ”¯æŒçš„å¹³å°</h3>
          <div class="endpoint-details">
            <p><span class="method">GET</span> <code>/api/platforms</code></p>
            <p>è·å–æ‰€æœ‰æ”¯æŒçš„éŸ³ä¹å¹³å°åŠå…¶æ”¯æŒçš„éŸ³è´¨</p>
            <div class="code-sample">
              <h4>å“åº”ç¤ºä¾‹:</h4>
              <pre>{
  "success": true,
  "data": [
    {
      "code": "netease",
      "name": "ç½‘æ˜“äº‘éŸ³ä¹",
      "qualities": ["128k", "320k", "flac", "flac24bit"]
    },
    {
      "code": "qq",
      "name": "QQéŸ³ä¹",
      "qualities": ["128k", "320k", "flac", "flac24bit"]
    }
  ]
}</pre>
            </div>
          </div>
        </div>
        <div class="endpoint">
          <h3>è·å–éŸ³ä¹URL</h3>
          <div class="endpoint-details">
            <p><span class="method">POST</span> <code>/api/music/url</code></p>
            <p>è·å–æŒ‡å®šå¹³å°å’ŒIDçš„éŸ³ä¹URL</p>
            <p><strong>éœ€è¦è®¤è¯:</strong> æ˜¯ (APIå¯†é’¥)</p>
            <div class="code-sample">
              <h4>è¯·æ±‚ç¤ºä¾‹:</h4>
              <pre>{
  "platform": "netease",
  "musicInfo": {
    "id": "1824020871"
  },
  "quality": "320k"
}</pre>
            </div>
            <div class="code-sample">
              <h4>å“åº”ç¤ºä¾‹:</h4>
              <pre>{
  "success": true,
  "data": {
    "url": "https://music.example.com/song.mp3",
    "platform": "ç½‘æ˜“äº‘éŸ³ä¹",
    "quality": "320k"
  }
}</pre>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="code-examples">
      <h2>ä»£ç ç¤ºä¾‹</h2>
      <div class="tabs">
        <div class="tab-header">
          <button class="tab-btn active" data-tab="js">JavaScript</button>
          <button class="tab-btn" data-tab="python">Python</button>
          <button class="tab-btn" data-tab="curl">cURL</button>
        </div>
        <div class="tab-content">
          <div class="tab-pane active" id="js-tab">
            <pre>// ä½¿ç”¨ fetch API
async function getMusicUrl(platform, musicId, quality = '320k', apiKey) {
  const response = await fetch('/api/music/url', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
      'X-API-Key': apiKey
    },
    body: JSON.stringify({
      platform,
      musicInfo: { id: musicId },
      quality
    })
  });
  
  const data = await response.json();
  
  if (!data.success) {
    throw new Error(data.message);
  }
  
  return data.data.url;
}</pre>
          </div>
          <div class="tab-pane" id="python-tab">
            <pre>import requests

def get_music_url(platform, music_id, quality='320k', api_key=None):
    url = 'https://your-vercel-app.vercel.app/api/music/url'
    headers = {
        'Content-Type': 'application/json',
        'X-API-Key': api_key
    }
    data = {
        'platform': platform,
        'musicInfo': {'id': music_id},
        'quality': quality
    }
    
    response = requests.post(url, json=data, headers=headers)
    result = response.json()
    
    if not result.get('success'):
        raise Exception(result.get('message', 'æœªçŸ¥é”™è¯¯'))
    
    return result['data']['url']</pre>
          </div>
          <div class="tab-pane" id="curl-tab">
            <pre>curl -X POST https://your-vercel-app.vercel.app/api/music/url \
  -H "Content-Type: application/json" \
  -H "X-API-Key: YOUR_API_KEY" \
  -d '{"platform":"netease","musicInfo":{"id":"1824020871"},"quality":"320k"}'</pre>
          </div>
        </div>
      </div>
    </section>

    <footer>
      <p>Â© 2023 éŸ³ä¹ API èšåˆæœåŠ¡ | <a href="https://github.com/yourusername/music-api-aggregator" target="_blank">GitHub</a></p>
      <p class="disclaimer">æœ¬æœåŠ¡ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ï¼Œè¯·éµå®ˆç›¸å…³æ³•å¾‹æ³•è§„å’Œå¹³å°çš„ä½¿ç”¨æ¡æ¬¾</p>
    </footer>
  </div>

  <script src="js/main.js"></script>
</body>
</html> 